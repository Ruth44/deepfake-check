<!---->
<!---->
<!---->
<!---->
<!---->
<!---->
{% extends "Shared/Base.html" %}

{% block title %}DFClassify - Prediction Page{% endblock %}

{% block content %}
{% include "Signed/Navbar.html" %}
{% include "Shared/Alert.html" %}
        <br>
        <br>
        <form method="post">
            <div class="container1" id="prediction1">
                <label for="upload">
                    You uploaded this image:&nbsp;&nbsp;{{ template_context["upload_name"] }}
                </label>
                <br>
                <br>
                <img name="upload" id="upload" src="data:image/jpeg;base64,{{ image_encoded_string }}">
                <br>
                <br>
                <label for="outcomes">
                    You can find below your predicted outcome(s):
                </label>
                <br>
                <br>
                <label>
                    (<b><span style="color:red">PLEASE REMEMBER</span></b> these are a machine learning
                    model's results, meaning they could be wrong)
                </label>
                <br>
                <br>
                <table name="outcomes" id="outcomes">
                    <tr>
                        <th>Model Name:</th>
                        <th>Prediction Result:</th>
                        <th>Confidence Percentage (in %):</th>
                    </tr>
                    {% for x in range(template_context["prediction_outcomes"] | length) %}
                    {% set outcome = template_context["prediction_outcomes"][x] %}
                    <tr>
                        <td><input type="text" class="tagInput" name="table_model_{{x}}" id="table_model_{{x}}" value="{{ outcome["model"] }}" readonly></td>
                        <td><input type="text" class="tagInput" name="table_result_{{x}}" id="table_result_{{x}}" value="{{ outcome["result"][-1] }}" readonly></td>
                        {% if outcome["result"][-1]=="Fake" %}
                        <td><input type="text" class="tagInput" name="table_percent_{{x}}" id="table_percent_{{x}}" value="{{ outcome["result"][0] }}" readonly></td>
                        {% elif outcome["result"][-1]=="Real" %}
                        <td><input type="text" class="tagInput" name="table_percent_{{x}}" id="table_percent_{{x}}" value="{{ outcome["result"][1] }}" readonly></td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </table>
            </div>
            <br>
            <div class="container2" id="prediction2">
                <div id="left">
                    Would you like to<br>save your result(s)?<br>Please specify a<br>duration if you wish:
                </div>
                <div id="right">
                    <select name="duration" id="duration">
                        <option disabled selected value>Don't save these results</option>
                        <option>Save for 1 day</option>
                        <option>Save for 1 week</option>
                        <option>Save for 2 weeks</option>
                        <option>Save for 1 month</option>
                    </select>
                    <br>
                    <br>
                    <table>
                        <tr>
                            <td><button type="submit" name="yes">Yes</button></td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td><button type="submit" name="no">No</button></td>
                        </tr>
                    </table>
                </div>
                <br>
                <br>
                <br>
                <br>
            </div>
            <input type="hidden" name="hidden_offset_upload_name" id="hidden_offset_upload_name" value="{{ name_offset }}{{ template_context["upload_name"] }}">
            <input type="hidden" name="hidden_model_count_picked" id="hidden_model_count_picked" value={{ template_context["prediction_outcomes"] | length }}>
        </form>
{% endblock %}